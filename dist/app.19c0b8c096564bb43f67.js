webpackJsonp([0],[function(e,t,x){"use strict";function s(e,t){return Math.floor(Math.random()*(t-e)+e)}function i(e,t,x,s,i){var n=document.createElement(t);if(x&&(n.id=x),s&&(n.className=s),i){Object.keys(i).forEach(function(e){n.style[e]=i[e]})}return e.appendChild(n)}function n(e){var t={};for(var x in e)t[x]=e[x];return t}t.f=s,t.d=i,x.d(t,"b",function(){return a}),x.d(t,"a",function(){return r}),t.e=n,x.d(t,"c",function(){return o});var a={up:38,down:40,left:37,right:39},r=[37,38,39,40],o={fed:"snake.fed",pause:"snake.pause",start:"snake.start",lost:"snake.lost",topScore:"snake.topscore",newLevel:"snake.newlevel",over:"snake.gameover",completed:"snake.completed",hitWall:"snake.hitwall",hitBody:"snake.hitbody"}},function(e,t,x){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}x.d(t,"a",function(){return n});var i=function(){function e(e,t){for(var x=0;x<t.length;x++){var s=t[x];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,x,s){return x&&e(t.prototype,x),s&&e(t,s),t}}(),n=function(){function e(t,x){s(this,e),this.x=t,this.y=x}return i(e,[{key:"plus",value:function(t){return new e(this.x+t.x,this.y+t.y)}}]),e}()},function(e,t,x){function s(e){return x(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./completed.mp3":13,"./fed.mp3":14,"./hitBody.mp3":15,"./hitWall.mp3":16,"./lost.mp3":17,"./newLevel.mp3":18,"./over.mp3":19,"./pause.mp3":20,"./start.mp3":21,"./topScore.mp3":22};s.keys=function(){return Object.keys(n)},s.resolve=i,e.exports=s,s.id=2},function(e,t,x){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}x.d(t,"a",function(){return l});var i=x(9),n=x(7),a=x(11),r=x(0),o=function(){function e(e,t){for(var x=0;x<t.length;x++){var s=t[x];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,x,s){return x&&e(t.prototype,x),s&&e(t,s),t}}(),l=function(){function e(t,x,a){s(this,e),this.plans=t,this.currentLevel=0,this.sounds=this.createSounds(),this.level=new i.a(this.plans[this.currentLevel],this.sounds),this.container=x,this.scale=a||10,this.direction={up:!1,right:!1,down:!1,left:!0},this.display=new n.a(this.container,this.level,this.scale),this.rendered=!0,this.paused=!1,this.score=0,this.lives=3,this.delay=200}return o(e,[{key:"trackKeys",value:function(){function e(e){if(32===e.keyCode&&(this.paused=!this.paused,this.sounds.pause.play()),-1!==r.a.indexOf(e.keyCode))for(var t in r.b)this.direction[t]=e.keyCode===r.b[t]}addEventListener("keydown",e.bind(this))}},{key:"startLevel",value:function(){if(null===this.level.status)this.render();else if("win"===this.level.status)this.currentLevel+1<this.plans.length?(this.delay>199&&(this.stopSounds(),this.sounds.newLevel.play()),this.delay--,this.display.message("wow you win ... !\nstarting new level after\n"+Math.floor(this.delay/50)),this.delay<1&&(this.score+=this.level.score,this.setLevel(this.currentLevel+1),this.delay=200)):(console.log("congratulation !! you have completed all levels .."),this.paused=!0,this.currentLevel>0&&(this.stopSounds(),this.sounds.completed.play()),this.setLevel(0),this.display.message('Congratulation... !\nyou completed all levels!\n To play again press \n "space"'));else if("lost"===this.level.status&&this.lives>1)this.delay--,this.display.message("sorry you are lost ... !\nTry Again\n "+Math.floor(this.delay/50)),this.delay<1&&(this.lives--,this.setLevel(this.currentLevel),this.delay=200);else{if(console.log("game over, refresh for new game"),this.level.score>0){this.score+=this.level.score;var e=localStorage.getItem("sts");e<this.score&&(localStorage.setItem("sts",this.score),this.display.hiScore=this.score)}this.sounds.lost.play(),this.paused=!0,this.display.message('Game Over... !\nPress the key of \n "space"'),this.score=0,this.setLevel(0),this.lives=3}}},{key:"render",value:function(){function e(){null!==this.level.status?this.startLevel():this.paused||(this.rendered=!1,this.rendered=this.level.animate(this.direction),this.rendered&&this.display.drawFrame(this.score,this.lives,this.currentLevel+1)),requestAnimationFrame(e.bind(this))}requestAnimationFrame(e.bind(this))}},{key:"start",value:function(){this.trackKeys(),this.startLevel()}},{key:"createSounds",value:function(){var e={};return Object.keys(r.c).forEach(function(t){e[t]="start"===t?new a.a(x(2)("./"+t+".mp3"),r.c[t],!1,!0):new a.a(x(2)("./"+t+".mp3"),r.c[t])}),e}},{key:"stopSounds",value:function(){for(var e in this.sounds)this.sounds[e].stop()}},{key:"pauseSounds",value:function(){for(var e in this.sounds)this.sounds[e].pause()}},{key:"setLevel",value:function(e){this.direction={up:!1,right:!1,down:!1,left:!0},this.currentLevel=e,this.level=new i.a(this.plans[e],this.sounds),this.display.resetLevel(this.level)}}]),e}()},function(e,t,x){"use strict";x.d(t,"a",function(){return s});var s=[{ar:["xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","x                                   x","x                                   x","x                                   x","x     o                             x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x                s                  x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],score:10},{ar:["xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","x                                   x","x x                               x x","x xx                             xx x","x                                   x","x    o                              x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x                         s         x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x xx                             xx x","x x                               x x","x                                   x","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],score:40},{ar:["xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","x                                   x","x  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  x","x                                   x","x                                   x","x    o                              x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x                         s         x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x                                   x","x  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  x","x                                   x","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],score:50},{ar:["xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","x                                   x","x                                   x","x    xxxxxxxxxxxxxxxxxxxxxxxxxx     x","x                                   x","x    o            x                 x","x                 x                 x","x                 x                 x","x                 x                 x","x                 x                 x","x                         s         x","x                 x                 x","x                 x                 x","x                 x                 x","x                 x                 x","x                 x                 x","x                                   x","x    xxxxxxxxxxxxxxxxxxxxxxxxxx     x","x                                   x","x                                   x","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],score:60},{ar:["xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","x                                   x","x                                   x","x    xxxxxxxxxxxxxxxxxxxxxxxxxx     x","x                                   x","x    o            x                 x","x  x              x              x  x","x  x              x              x  x","x  x              x              x  x","x  x              x              x  x","x                         s         x","x  x              x              x  x","x  x              x              x  x","x  x              x              x  x","x  x              x              x  x","x                 x                 x","x                                   x","x    xxxxxxxxxxxxxxxxxxxxxxxxxx     x","x                                   x","x                                   x","xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"],score:70}]},,function(e,t,x){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=x(3),i=x(4),n=document.querySelector(".game-container"),a=void 0;window.addEventListener("load",function(){a=new s.a(i.a,n,48),a.start()})},function(e,t,x){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}x.d(t,"a",function(){return a});var i=x(0),n=function(){function e(e,t){for(var x=0;x<t.length;x++){var s=t[x];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,x,s){return x&&e(t.prototype,x),s&&e(t,s),t}}(),a=function(){function e(t,x,n){s(this,e),this.wrap=i.d(t,"canvas","game"),this.scale=n||10,this.level=x,this.topSpace=6*this.scale,this.sprite={img:null,width:0,height:0,scale:0},this.bgColor="#bdb",this.hiScore=localStorage.getItem("sts")||0,this.init()}return n(e,[{key:"init",value:function(){this.wrap.width=this.level.width*this.scale,this.wrap.height=this.level.height*this.scale+this.topSpace,this.wrap.parentNode.style.backgroundColor=this.bgColor}},{key:"drawBackground",value:function(){for(var e=this.wrap.getContext("2d"),t=0;t<this.level.height;t++)for(var x=0;x<this.level.width;x++){var s=this.level.grid[t][x];s&&(e.fillStyle="#212121",e.fillRect(x*this.scale,t*this.scale+this.topSpace,this.scale,this.scale))}}},{key:"drawFrame",value:function(e,t,x){var s=this,i=void 0;return this.level.score<20&&this.level.frames%8!=0||this.level.score>=20&&this.level.score<40&&this.level.frames%6!=0||this.level.score>=40&&this.level.frames%4!=0||(this.clear(),this.drawBackground(),i=this.wrap.getContext("2d"),this.level.actors.forEach(function(e){var t=e.pos.x*s.scale,x=e.pos.y*s.scale+s.topSpace,n=e.size.x*s.scale*.9,a=e.size.y*s.scale*.9;"food"===e.type&&(i.beginPath(),i.arc(t+n/2,x+a/2,n/2,0,2*Math.PI),i.closePath(),i.fill()),"snake"===e.type&&e.parts.forEach(function(t,x){var r=t.x*s.scale+e.size.x*s.scale*.05,o=t.y*s.scale+s.topSpace+e.size.y*s.scale*.05;i.fillRect(r,o,n,a)})}),this.drawInfo(i,(this.level.score+e).toString(),t,x),!0)}},{key:"clear",value:function(){this.wrap.getContext("2d").clearRect(0,0,this.wrap.width,this.wrap.height)}},{key:"drawInfo",value:function(e,t,x,s){var i=this.wrap.width/3,n=this.topSpace,a=(this.sprite.img,this.hiScore);t=t<10?"0"+t:t,a=a<10?"0"+a:a,s=s<10?"0"+s:s,e.font=4*this.scale+"px pixelated, serif",e.textAlign="center",e.fillText("The Snake",this.wrap.width/2,3*this.scale),e.font=2*this.scale+"px pixelated, serif",e.fillText("simple HTML & JS game",this.wrap.width/2,4.5*this.scale),e.font=this.scale+"px pixelated, serif",e.textAlign="right",e.fillStyle=this.bgColor,e.fillText("HI-SCORE: "+a,this.wrap.width-this.scale,n+8*this.scale/10),e.textAlign="center",e.fillText("SCORE: "+t,2*i,n+8*this.scale/10),e.fillText("Level: "+s,i,n+8*this.scale/10),e.textAlign="left",e.fillText("Lives: "+x,this.scale,n+8*this.scale/10)}},{key:"resetLevel",value:function(e){this.level=e}},{key:"message",value:function(e){var t=this,x=this.wrap.getContext("2d"),s=e.split(/\n/g),i=(s.length+2)*this.scale,n=15*this.scale,a=this.wrap.width/2,r=this.wrap.height/2;x.fillStyle="#212121",x.textAlign="center",x.clearRect(a-n/2,r-2*this.scale,n,i),x.fillRect(a-n/2,r-2*this.scale,n,i),x.fillStyle=this.bgColor,x.font=this.scale+"px pixelated",s.forEach(function(e,s){x.fillText(e,a,r+s*t.scale)})}}]),e}()},function(e,t,x){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}x.d(t,"a",function(){return a});var i=x(1),n=function(){function e(e,t){for(var x=0;x<t.length;x++){var s=t[x];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,x,s){return x&&e(t.prototype,x),s&&e(t,s),t}}(),a=function(){function e(t){s(this,e),this.pos=t,this.type="food",this.size=new i.a(1,1)}return n(e,[{key:"updateFoodPos",value:function(e,t){var x=new i.a(t(2,e.width-1),t(2,e.height-1)),s=e.isObstacle(x,this.size),n=e.isActor(this),a=e.actors.filter(function(e){return"snake"===e.type})[0],r=a.isBody(x);s||n||r?this.updateFoodPos(e,t):this.pos=x}}]),e}()},function(e,t,x){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}x.d(t,"a",function(){return l});var i=x(10),n=x(8),a=x(1),r=function(){function e(e,t){for(var x=0;x<t.length;x++){var s=t[x];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,x,s){return x&&e(t.prototype,x),s&&e(t,s),t}}(),o={o:n.a,s:i.a},l=function(){function e(t,x){s(this,e),this.width=t.ar[0].length,this.height=t.ar.length,this.actors=[],this.grid=this.getGrid(t.ar),this.status=null,this.score=0,this.frames=0,this.died=!1,this.maxScore=t.score,this.sounds=x}return r(e,[{key:"animate",value:function(e){var t=this;return this.frames>1e3?this.frames=0:this.frames++,this.score<20&&this.frames%8!=0||this.score>=20&&this.score<40&&this.frames%6!=0||this.score>=40&&this.frames%4!=0||(this.actors.forEach(function(x){"snake"===x.type&&x.move(t,e)}),!0)}},{key:"isObstacle",value:function(e,t){for(var x=Math.floor(e.x),s=Math.ceil(e.x+t.x),i=Math.floor(e.y),n=Math.ceil(e.y+t.y),a=x;a<s;a++)for(var r=i;r<n;r++)return this.grid[r][a]}},{key:"isActor",value:function(e,t){t=t||e.pos;for(var x=0;x<this.actors.length;x++){var s=this.actors[x];if(s!==e&&t.x+e.size.x>s.pos.x&&t.x<s.pos.x+s.size.x&&t.y+e.size.y>s.pos.y&&t.y<s.pos.y+s.size.y)return s}}},{key:"getGrid",value:function(e){var t=this,x=[];return e.forEach(function(e,s){var i=[];[].forEach.call(e,function(e,x){var n=null,r=o[e];r&&t.actors.push(new r(new a.a(x,s))),"x"===e&&(n="wall"),i.push(n)}),x.push(i)}),x}},{key:"snakeTouched",value:function(e){"wall"===e||"body"===e?this.status="lost":"food"===e&&this.maxScore<=this.score&&(this.status="win")}}]),e}()},function(e,t,x){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}x.d(t,"a",function(){return r});var i=x(1),n=x(0),a=function(){function e(e,t){for(var x=0;x<t.length;x++){var s=t[x];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,x,s){return x&&e(t.prototype,x),s&&e(t,s),t}}(),r=function(){function e(t){s(this,e),this.pos=t,this.size=new i.a(1,1),this.speed=new i.a(0,0),this.step=1,this.direction={up:!1,right:!1,down:!1,left:!0},this.newDirection=null,this.type="snake",this.parts=[new i.a(t.x,t.y)]}return a(e,[{key:"move",value:function(e,t){var x=void 0,s=void 0,a=void 0,r=void 0,o=void 0;(t.left&&this.direction.right||t.right&&this.direction.left||t.up&&this.direction.down||t.down&&this.direction.up)&&(t=n.e(this.direction)),this.speed.x=0,this.speed.y=0,t.left&&(this.speed.x-=this.step),t.right&&(this.speed.x+=this.step),t.up&&(this.speed.y-=this.step),t.down&&(this.speed.y+=this.step),t.left||t.right?x=new i.a(this.speed.x,0):(t.up||t.down)&&(x=new i.a(0,this.speed.y)),s=this.pos.plus(x,this),a=e.isObstacle(s,this.size),r=e.isActor(this,s),o=this.isBody(s),a?(e.snakeTouched(a),e.sounds.hitWall.play()):o?(e.snakeTouched(o),e.sounds.hitBody.play()):r&&"food"===r.type&&(this.increaseParts(this.pos,t),e.sounds.fed.play(),e.score++,e.snakeTouched(r.type),r.updateFoodPos(e,n.f)),this.updateBody(s),this.direction=n.e(t)}},{key:"updateBody",value:function(e){this.parts.pop(),this.parts.unshift(e),this.pos=e}},{key:"increaseParts",value:function(e,t){var x=void 0;t.up&&(x=e.plus(new i.a(0,-1))),t.down&&(x=e.plus(new i.a(0,-1))),t.left&&(x=e.plus(new i.a(1,0))),t.right&&(x=e.plus(new i.a(-1,0))),this.parts.push(x)}},{key:"isBody",value:function(e){var t=this,x=null;return this.parts.forEach(function(s){if(e.x+t.size.x>s.x&&e.x<t.size.x+s.x&&e.y+t.size.y>s.y&&e.y<t.size.y+s.y)return void(x="body")}),x}}]),e}()},function(e,t,x){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}x.d(t,"a",function(){return n});var i=function(){function e(e,t){for(var x=0;x<t.length;x++){var s=t[x];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,x,s){return x&&e(t.prototype,x),s&&e(t,s),t}}(),n=function(){function e(t,x,i,n){s(this,e),this.element=document.createElement("audio"),this.element.src=t,this.isLoaded=!1,this.event=x,this.element.loop=n||!1,this.load(),i&&this.play()}return i(e,[{key:"load",value:function(){var e=this;this.element.addEventListener("canplay",function(){e.isLoaded=!0}),this.element.addEventListener("play",function(){e.isPlaying=!0}),this.element.addEventListener("pause",function(){e.isPlaying=!1}),addEventListener(this.event,function(){e.play()})}},{key:"play",value:function(){this.isLoaded||setTimeout(this.play.bind(this),200),this.isPlaying&&this.stop(),this.element.play()}},{key:"stop",value:function(){this.element.pause(),this.element.currentTime=0}},{key:"pause",value:function(){this.element.pause()}}]),e}()},,function(e,t,x){e.exports=x.p+"./static/sounds/completed.mp3"},function(e,t,x){e.exports=x.p+"./static/sounds/fed.mp3"},function(e,t,x){e.exports=x.p+"./static/sounds/hitBody.mp3"},function(e,t,x){e.exports=x.p+"./static/sounds/hitWall.mp3"},function(e,t,x){e.exports=x.p+"./static/sounds/lost.mp3"},function(e,t,x){e.exports=x.p+"./static/sounds/newLevel.mp3"},function(e,t,x){e.exports=x.p+"./static/sounds/over.mp3"},function(e,t,x){e.exports=x.p+"./static/sounds/pause.mp3"},function(e,t,x){e.exports=x.p+"./static/sounds/start.mp3"},function(e,t,x){e.exports=x.p+"./static/sounds/topScore.mp3"}],[6]);